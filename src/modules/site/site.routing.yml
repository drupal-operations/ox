
site.about:
  path: '/admin/site/about'
  defaults:
    _title: 'About this site'
    _controller: '\Drupal\site\Controller\SiteAboutController::build'
  requirements:
    _permission: 'access about this site page'

site.save:
  path: '/admin/site/save'
  defaults:
    _title: 'Save Site Report'
    _controller: '\Drupal\site\Controller\SiteAboutController::saveReport'
  requirements:
    _permission: 'save site report'

site.history:
  path: '/admin/site/history'
  defaults:
    _title: 'Site History'
    _controller: '\Drupal\site\Controller\SiteRevisionController::revisionHistory'
    type: 'default'

  requirements:
    _permission: 'access site history page'

site.edit:
  path: '/admin/site/edit'
  defaults:
    _title: 'Edit Site Information'
    _controller: '\Drupal\site\Controller\SiteAboutController::edit'
  requirements:
    _permission: 'edit site information'

site.fields:
  path: '/admin/about/fields'
  defaults:
    _controller: \Drupal\field_ui\Controller\FieldConfigListController::listing
    _title: 'Manage Fields'
    entity_type_id: 'drupal_project'
    bundle: 'default'
  requirements:
    _permission: 'administer drupal_project fields'

site.display:
  path: '/admin/about/display'
  defaults:
    _entity_form: "entity_view_display.edit"
    _title: "Manage Display"
    view_mode_name: "default"
    entity_type_id: "drupal_project"
    bundle: "default"
  requirements:
    _permission: 'administer drupal_project display'

site.form:
  path: '/admin/about/form'
  defaults:
    _entity_form: "entity_form_display.edit"
    _title: "Manage Form"
    form_mode_name: "default"
    entity_type_id: "drupal_project"
    bundle: "default"
  requirements:
    _permission: 'administer drupal_project form'

site.advanced:
  path: '/admin/about/settings'
  defaults:
    _form: 'Drupal\site\Form\SiteSettingsForm'
    _title: 'Advanced site settings'
  requirements:
    _permission: 'administer site entity settings'

entity.site.revision:
  path:  '/site/{site}/history/{site_revision}'
  defaults:
    _controller: '\Drupal\site\Controller\SiteRevisionController::revisionShow'
  requirements:
    _permission: 'view site entity revisions'
  options:
    parameters:
      site:
        type: entity:site
      site_revision:
        type: entity_revision:site

entity.site.version_history:
  path:  '/site/{site}/history'
  defaults:
    _title: 'Site History'
    _controller: '\Drupal\site\Controller\SiteRevisionController::revisionHistory'
    type: 'default'
  options:
    parameters:
      site:
        type: entity:site
  requirements:
    _permission: 'site.view site environments'

site.add:
  path: '/site/add/{site_type}'
  defaults:
    _entity_form: 'site.default'
  requirements:
    _entity_create_access: 'site:{site_type}'
  options:
    parameters:
      site_type:
        type: entity:site_type
        with_config_overrides: TRUE

entity.site.refresh:
  path: '/site/{site}/refresh'
  defaults:
    _title: 'Refresh Site Data'
    _controller: '\Drupal\site\Controller\SiteActionsController::refresh'
  requirements:
    _permission: 'refresh site data'
  options:
    parameters:
      site:
        type: entity:site
        with_config_overrides: TRUE

entity.site.collection.types:
  path: '/admin/content/site/{site_type}'
  defaults:
    _title: 'Site Data API'
    _entity_list: 'site'
  options:
    parameters:
      entity_type:
        type: entity:site
      site_type:
        type: entity:site_type
        with_config_overrides: TRUE

  requirements:
    _permission: 'administer sites'

site.api:
  path: '/jsonapi/self'
  defaults:
    _title: 'Site API'
    _controller: '\Drupal\site\Controller\SiteApiController::self'
  requirements:
    _permission: 'access site data api'
  options:
    _auth: ['basic_auth', 'cookie', 'key_auth', 'ip_consumer_auth']

site.api.action:
  path: '/jsonapi/action/{plugin_id}'
  defaults:
    _title: 'Site API'
    _controller: '\Drupal\site\Controller\SiteApiController::action'
  requirements:
    _permission: 'access site actions pages'
  options:
    _auth: ['basic_auth', 'cookie', 'key_auth', 'ip_consumer_auth']
    parameters:
      plugin_id:
        type: string
  methods:
    - POST

entity.site.site_actions:
  path: '/site/{site}/action/{plugin_id}'
  defaults:
    _controller: '\Drupal\site\Controller\SiteActionController::form'
    _title_callback: '\Drupal\site\Controller\SiteActionController::formPageTitle'
  requirements:
    _permission: 'access site actions pages'
  options:
    parameters:
      site:
        type: entity:site
      plugin_id:
        type: string

entity.project.add_site:
  path:  '/project/{project}/add'
  defaults:
    _title_callback: '\Drupal\site\Controller\DrupalProjectAddSiteController::formPageTitle'
    _controller: '\Drupal\site\Controller\DrupalProjectAddSiteController::form'
    type: 'default'
  options:
    parameters:
      project:
        type: entity:project
  requirements:
    _permission: 'create site'
